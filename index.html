<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">

        <title>HTML5 Canvas Testing</title>
        <meta name="description" content="A basic HTML5 Canvas Test">
        <meta name="author" content="Matthew J Pruett">
		
		<!-- Styles -->
		<!-- Maybe we will host this ourselves in the future. -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<!-- Google Fonts -->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Press+Start+2P">

		<!-- Scripts -->
		<script src="scripts/random.js"></script>
		<script src="scripts/generics.js"></script>
		<script src="scripts/sprite.js"></script>
		<script src="scripts/drawing-lib.js"></script>
		<script src="scripts/digital-pet.js"></script>
		<script src="scripts/game-tool.js"></script>
		<script src="scripts/game.js"></script>
		<script src="scripts/game-logger.js"></script>

		<!-- Maybe we will host this ourselves in the future. -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

		<!-- Custom CSS. TODO: Move to separate document-->
		<style>
			.digital {
				font-family: 'Press Start 2P'
			}

			table, td, th, tbody {
				border-width: 4px;
				border-color: black;
				border-style: solid !important;
				padding-left: 9px;
				padding-right: 4px;
			}

			button {
				padding-left: 10px;
				padding-right: 10px;
				padding-bottom: 5px;
			}

			.left-label {
				margin-right: 7px;
			}

			input, button {
				height: 28px;
				margin-right: 7px;
			}
		</style>
    </head>
    <body>
		<div class="container body-content">			
			<h1>Digital Pet Showcase</h1>
			<div class="row" id="game">
				<!-- The game will be placed here when we call $("#game").initializeGame()-->
				
				<p>
					<label for="pet-name" class="left-label">Pet Name </label>
					<input type="text" id="pet-name" name="pet-name" onkeypress=""><br><br>
					<button id="start" onclick="startGame();">Start</button>
				</p>
			</div>
			<span id="coordinates" class="digital"></span><br>
			<a href="other\thanks.html">Special Thanks</a>
		</div>

        <script>
			// TODO: Somehow move this call to game.js
			jQuery.fn.initializeGame = initializeGame;
			
			"use strict";

			$(function() {
				$("#pet-name").on("keypress", function(e) {
					if (e.key === "Enter") {
						e.preventDefault();
						$("#start").click();
					}
				});
			});

			function feedPet() {
				cat.feed();
				refreshPetStats();
			}

			function starvePet() {
				cat.hunger.inc();
				refreshPetStats();
			}

			function refreshCoordinates(x, y) {
				$("#coordinates").html(`${x},${y}`);
			}

			function killPet() {
				gameLoop.pet.kill();
			}

			function startGame() {
				let petName = $("#pet-name").val();
				if (petName) {
					$("#game").html('');
					$("#game").initializeGame(petName);
				}
			}
        </script>
    </body>
</html>